(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[38],{"5lJ4":function(e,t,a){"use strict";a.r(t);var n,r=a("2Taf"),o=a.n(r),i=a("vZ4D"),s=a.n(i),l=a("l4Ni"),c=a.n(l),d=a("ujKo"),u=a.n(d),m=a("MhPg"),g=a.n(m),h=a("q1tI"),f=a.n(h),p=a("a/tU"),v=(a("9Eyt"),a("jmkI"),a("wd/R")),b=a.n(v),k=(a("2qtc"),a("kLXV")),y=(a("14J3"),a("BMrR")),w=(a("jCWc"),a("kPKH")),E=(a("iQDF"),a("+eQT")),_=(a("y8nQ"),a("Vl3Y")),C=(a("OaEy"),a("2fM7")),S=(a("5NDa"),a("5rEg")),x=a("lRau"),T=a.n(x),D=S["a"].TextArea,M=C["a"].Option,H=_["a"].create({name:"form_in_modal"})((n=function(e){function t(e){var a;return o()(this,t),a=c()(this,u()(t).call(this,e)),a.onSubmit=function(e){"cm"==a.props.user?(a.redirect=!0,a.setState({reload:!a.state.reload})):(a.redirect=!1,a.setState({reload:!a.state.reload}),a.props.onCreate(e))},a.state={reload:!1},a}return g()(t,e),s()(t,[{key:"redirectToReport",value:function(){if(this.redirect)return f.a.createElement(T.a,{to:"/report/create"})}},{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onCancel,n=(e.onCreate,e.form),r=(e.data,e.user),o=n.getFieldDecorator;return f.a.createElement(k["a"],{id:"my-form",visible:t,title:"Nhi\u1ec7m v\u1ee5",okText:"cm"==r?"B\xe1o c\xe1o":"L\u01b0u",onCancel:a,onOk:this.onSubmit},this.redirectToReport(),f.a.createElement(_["a"],{layout:"vertical"},f.a.createElement(_["a"].Item,{label:"Ti\xeau \u0111\u1ec1"},o("text",{rules:[{required:!0,message:"Vui l\xf2ng \u0111i\u1ec1n ti\xeau \u0111\u1ec1!"}]})(f.a.createElement(S["a"],null))),f.a.createElement(_["a"].Item,{label:"Ch\u1ecdn c\u1ea5p d\u01b0\u1edbi"},o("workers",{initialValue:["hieu","huy"]})(f.a.createElement(C["a"],{mode:"multiple",size:"default",placeholder:"Ch\u1ecdn c\u1ea5p d\u01b0\u1edbi \u0111\u1ec3 giao",style:{width:"100%"}},f.a.createElement(M,{key:"hieu"},f.a.createElement("b",{style:{fontSize:"10px"}},"NCV: "),"Trung Hi\u1ebfu"),f.a.createElement(M,{key:"huy"},f.a.createElement("b",{style:{fontSize:"10px"}},"NCV: "),"Huy Tr\u1ea7n"),f.a.createElement(M,{key:"unlyan"},f.a.createElement("b",{style:{fontSize:"10px"}},"NCV: "),"UnLyan")))),f.a.createElement(y["a"],{gutter:16},f.a.createElement(w["a"],{className:"gutter-row",span:12},f.a.createElement(_["a"].Item,{label:"B\u1eaft \u0111\u1ea7u"},o("start_date",{rules:[{required:!0,message:"Vui l\xf2ng ch\u1ecdn th\u1eddi gian b\u1eaft \u0111\u1ea7u!"}]})(f.a.createElement(E["a"],{format:"YYYY-MM-DD HH:mm:ss",showTime:{defaultValue:b()("00:00:00","HH:mm:ss")}})))),f.a.createElement(w["a"],{className:"gutter-row",span:6},f.a.createElement(_["a"].Item,{label:"K\u1ebft th\xfac"},o("end_date",{rules:[{required:!0,message:"Vui l\xf2ng ch\u1ecdn th\u1eddi gian k\u1ebft th\xfac!"}]})(f.a.createElement(E["a"],{format:"YYYY-MM-DD HH:mm:ss",showTime:{defaultValue:b()("00:00:00","HH:mm:ss")}}))))),f.a.createElement(_["a"].Item,{label:"M\xf4 t\u1ea3"},o("description")(f.a.createElement(D,{rows:4})))))}}]),t}(f.a.Component),n)),I=function(e){function t(){var e,a;o()(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=c()(this,(e=u()(t)).call.apply(e,[this].concat(r))),a.state={visible:!1,data:{}},a.showModal=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;a.setState({visible:!0,data:e,user:t})},a.hideModel=function(){a.setState({visible:!1})},a.handleCancel=function(){a.setState({visible:!1})},a.onSave=function(){var e=a.formRef.props.form;e.validateFields(function(t,n){t||(a.props.onSave(n),e.resetFields(),a.setState({visible:!1}))})},a.saveFormRef=function(e){a.formRef=e},a}return g()(t,e),s()(t,[{key:"render",value:function(){return f.a.createElement("div",null,f.a.createElement(H,{wrappedComponentRef:this.saveFormRef,visible:this.state.visible,onCancel:this.props.onCancel,onCreate:this.onSave,data:this.data,user:this.state.user}))}}]),t}(f.a.Component),z=I,N=a("Vk6W"),R=a.n(N),V=function(e){function t(e){var a;return o()(this,t),a=c()(this,u()(t).call(this,e)),a.saveTask=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=p["gantt"].getTask(a.task.id);t.description=e.description||"",t.workers=e.workers||[],t.text=e.text||"",t.start_date=new Date(b()(e.start_date).toISOString()),t.end_date=new Date(b()(e.end_date).toISOString()),t.$new?(delete t.$new,p["gantt"].addTask(t,t.parent)):p["gantt"].updateTask(t.id),a.hideLightbox()},a.cancelTask=function(){var e=p["gantt"].getTask(a.task.id);e.$new&&p["gantt"].deleteTask(e.id),a.hideLightbox()},a.remove=function(){p["gantt"].deleteTask(taskId),a.hideLightbox()},a.hideLightbox=function(){a.modelRef.hideModel(),a.task={}},a.showModel1=function(e){a.task=p["gantt"].getTask(e)||{},a.modelRef.showModal(a.task,a.props.user)},a.showModel=function(e){a.task=p["gantt"].getTask(e)||{},a.modelRef.showModal(a.task)},a.state={reload:!1},a.task={},a.modelRef=f.a.createRef(),a}return g()(t,e),s()(t,[{key:"setZoom",value:function(e){switch(e){case"Hours":p["gantt"].config.scale_unit="day",p["gantt"].config.date_scale="%d %M",p["gantt"].config.scale_height=60,p["gantt"].config.min_column_width=30,p["gantt"].config.subscales=[{unit:"hour",step:1,date:"%H"}];break;case"Days":p["gantt"].config.min_column_width=70,p["gantt"].config.scale_unit="week",p["gantt"].config.date_scale="#%W",p["gantt"].config.subscales=[{unit:"day",step:1,date:"%d %M"}],p["gantt"].config.scale_height=60;break;case"Months":p["gantt"].config.min_column_width=70,p["gantt"].config.scale_unit="month",p["gantt"].config.date_scale="%F",p["gantt"].config.scale_height=60,p["gantt"].config.subscales=[{unit:"week",step:1,date:"#%W"}];break;default:break}}},{key:"shouldComponentUpdate",value:function(e){return this.props.zoom!==e.zoom}},{key:"componentDidUpdate",value:function(){p["gantt"].render()}},{key:"componentDidMount",value:function(){p["gantt"].config.xml_date="%Y-%m-%d %H:%i";var e=this.props.tasks;p["gantt"].config.open_tree_initially=!0,p["gantt"].init(this.ganttContainer),p["gantt"].parse(e),p["gantt"].attachEvent("onTaskClick",this.showModel1),p["gantt"].showLightbox=this.showModel,p["gantt"].templates.tooltip_text=function(e,t,a){var n=b()(t).diff(b()(),"days");return 0==n&&(n="\u0110\xe3 h\u1ebft h\u1ea1n!"),"<b>T\xean nhi\u1ec7m v\u1ee5:</b> "+a.text+"<br/><b>Ng\u01b0\u1eddi giao:</b>Ph\xf9ng Lu\xe2n<br/><b>Ng\xe0y b\u1eaft \u0111\u1ea7u:</b> "+p["gantt"].templates.tooltip_date_format(e)+"<br/><b>Ng\xe0y k\u1ebft th\xfac:</b> "+p["gantt"].templates.tooltip_date_format(t)+"<br/><b>S\u1ed1 ng\xe0y c\xf2n l\u1ea1i:</b> "+n+"<br/><b>T\u1ec9 l\u1ec7 ho\xe0n th\xe0nh:</b> "+100*a.progress+"%"}}},{key:"render",value:function(){var e=this,t=this.props.zoom;return this.setZoom(t),f.a.createElement(f.a.Fragment,null,f.a.createElement(z,{ref:function(t){return e.modelRef=t},onSave:this.saveTask,onCancel:this.cancelTask,onRemove:this.remove}),f.a.createElement("div",{ref:function(t){e.ganttContainer=t},style:{width:"100%",height:"100%"}}))}}]),t}(h["Component"]),O=(a("7Kak"),a("9yH6")),Z=C["a"].Option,L=function(e){function t(e){var a;return o()(this,t),a=c()(this,u()(t).call(this,e)),a.handleZoomChange=function(e){a.props.onZoomChange&&a.props.onZoomChange(e.target.value)},a}return g()(t,e),s()(t,[{key:"render",value:function(){var e=this,t=["Hours","Days","Months"].map(function(t,a){var n=e.props.zoom===t;return f.a.createElement(O["a"],{key:t,checked:n,onChange:e.handleZoomChange,value:t},t)});return f.a.createElement("div",{className:"tool-bar"},f.a.createElement(y["a"],{type:"flex",align:"middle",justify:"space-between"},f.a.createElement("div",null,f.a.createElement(C["a"],{showSearch:!0,style:{width:200},placeholder:"Select a person",optionFilterProp:"children",defaultValue:"cm",onChange:function(t){return e.props.onChangeUser(t)},filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},f.a.createElement(Z,{value:"cm"},f.a.createElement("b",null,"Ch\xednh m\xecnh")),f.a.createElement(Z,{value:"hb"},f.a.createElement("b",{style:{fontSize:"10px"}},"NCV: "),"Hi\u1ebfu B\xf9i"),f.a.createElement(Z,{value:"ht"},f.a.createElement("b",{style:{fontSize:"10px"}},"NCV: "),"Huy Tr\u1ea7n"),f.a.createElement(Z,{value:"ul"},f.a.createElement("b",{style:{fontSize:"10px"}},"NCV: "),"Un Lyan"))),f.a.createElement("div",null,f.a.createElement("b",null,"Hi\u1ec3n th\u1ecb: "),t)))}}]),t}(h["Component"]),Y=L,F={data:[{id:"1",text:"D\u1ef1 \xe1n P01",start_date:new Date(b()().add(1,"day").toISOString()),color:"#40a9ff",progressColor:"#52c41a",duration:4,progress:.4},{id:"1.1",text:"Task 01",start_date:new Date(b()().add(1,"day").toISOString()),duration:1,progress:1,color:"#40a9ff",progressColor:"#52c41a",parent:"1"},{id:"1.2",text:"Task 02",start_date:new Date(b()().add(2,"day").toISOString()),duration:1,progress:.4,color:"#40a9ff",progressColor:"#52c41a",parent:"1"},{id:"1.3",text:"Task 03",start_date:new Date(b()().add(3,"day").toISOString()),duration:2,color:"#40a9ff",progressColor:"#52c41a",progress:0,parent:"1"},{id:"2",text:"D\u1ef1 \xe1n P02",start_date:new Date(b()().subtract(1,"day").toISOString()),color:"#40a9ff",progressColor:"#52c41a",duration:2,progress:1},{id:"3",text:"D\u1ef1 \xe1n P03",start_date:new Date(b()().subtract(1,"day").toISOString()),color:"#40a9ff",progressColor:"#52c41a",progress:1},{id:"4",text:"D\u1ef1 \xe1n P04",start_date:new Date(b()().subtract(1,"day").toISOString()),duration:2,color:"#40a9ff",progressColor:"#52c41a",progress:1},{id:"5",text:"D\u1ef1 \xe1n P05",start_date:new Date(b()().subtract(1,"day").toISOString()),duration:2,color:"#40a9ff",progressColor:"#52c41a",progress:1}],links:[{id:1,source:"1.1",target:"1.2",type:"0"},{id:2,source:"1.2",target:"1.3",type:"0"}]},P=function(e){function t(){var e,a;o()(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=c()(this,(e=u()(t)).call.apply(e,[this].concat(r))),a.state={currentZoom:"Days",user:"cm"},a.handleZoomChange=function(e){a.setState({currentZoom:e})},a}return g()(t,e),s()(t,[{key:"render",value:function(){var e=this,t=this.state.currentZoom;return f.a.createElement("div",null,f.a.createElement("div",{className:"zoom-bar",style:{marginBottom:"16px"}},f.a.createElement(Y,{zoom:t,onChangeUser:function(t){return e.setState({user:t})},onZoomChange:this.handleZoomChange})),f.a.createElement("div",{className:R.a["gantt-container"]},f.a.createElement(V,{user:this.state.user,tasks:F,zoom:t})))}}]),t}(h["Component"]);t["default"]=P},Vk6W:function(e,t,a){e.exports={"gantt-container":"gantt-container___18-QG",luandz:"luandz___E_-za",gantt_add:"gantt_add___2yt0g"}}}]);